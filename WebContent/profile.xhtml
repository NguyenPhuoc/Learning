<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/teamplate.xhtml">
	<ui:define name="content">
		<f:event listener="#{profileClient.Init()}" type="preRenderView"></f:event>
		<section class="about" id="app_features" style="padding: 50px 0">
		<div class="container">
			<h1 class="text-uppercase fadeInLeft animated">Profile</h1>
			<h:form prependId="false" styleClass="form-horizontal">
				<!-- ======================= -->
				<div class="form-group">
					<label class="col-sm-2 control-label">Username </label>
					<div class="col-sm-10">
						<p class="form-control-static">#{profileClient.student.id}</p>
					</div>
				</div>
				<!-- ======================= -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label">Full
						Name </label>
					<div class="col-sm-10">
						<h:inputText value="#{profileClient.student.name}"
							styleClass="form-control" maxlength="50" required="true"
							requiredMessage="Invalid name" id="name"
							validatorMessage="Invalid name">
							<f:validateRegex pattern="#{regular.regexName}" />
							<f:validateLength maximum="50" />
						</h:inputText>
						<h:message for="name" />
					</div>
				</div>
				<!-- ======================= -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label">Email
					</label>
					<div class="col-sm-10">
						<h:inputText value="#{profileClient.student.email}"
							styleClass="form-control" maxlength="254" pt:type="email"
							required="true" requiredMessage="Invalid email"
							validatorMessage="Invalid email" id="email">
							<f:validateRegex pattern="#{regular.regexEmail}" />
							<f:validateLength maximum="254" />
						</h:inputText>
						<h:message for="email" />
					</div>
				</div>
				<!-- ====================== -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label">Address
					</label>
					<div class="col-sm-10">
						<h:inputText value="#{profileClient.student.address}"
							styleClass="form-control" maxlength="100" required="true"
							requiredMessage="Invalid address" id="address"
							validatorMessage="Invalid address">
							<f:validateRegex pattern="#{regular.regexAddress}" />
							<f:validateLength maximum="100" />
						</h:inputText>
						<h:message for="address" />
					</div>
				</div>
				<!-- ====================== -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label">Faculty
					</label>
					<div class="col-sm-10">
						<h:inputText value="#{profileClient.student.faculty}"
							styleClass="form-control" maxlength="50" required="true"
							requiredMessage="Invalid faculty" id="faculty"
							validatorMessage="Invalid faculty">
							<f:validateRegex pattern="#{regular.regexName}" />
							<f:validateLength maximum="50" />
						</h:inputText>
						<h:message for="faculty" />
					</div>
				</div>
				<!-- ====================== -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label">DOB
					</label>
					<div class="col-sm-10">
						<p:calendar styleClass="cld" value="#{profileClient.student.dob}"
							requiredMessage="Invalid DOB" required="true"
							maxdate="#{regular.toDay()}" pattern="MM/dd/yyyy"
							placeholder="mm/dd/yyyy" id="dob">
						</p:calendar>
						<h:message for="dob" />
					</div>
				</div>
				<!-- ====================== -->
				<!-- ====================== -->
				<div class="form-group">
					<label for="input-placeholder" class="col-sm-2 control-label"></label>
					<div class="col-sm-10">
						<h:commandButton action="#{profileClient.saveChange()}"
							value="Save change" styleClass="btn btn-info">
							<f:ajax execute="@form" render="@form"></f:ajax>
						</h:commandButton>
						<span style="padding: 10px;"></span> <br /> <br />
						<div class="alert alert-success"
							style="width: 350px; display: #{profileClient.editSuc}">
							<b>Save change successfully</b>
						</div>
						<div class="alert alert-danger"
							style="width: 350px; display: #{profileClient.editErr}">
							<b>Save change failed</b>
						</div>
					</div>
				</div>
				<!-- ============================================================================= -->
			</h:form>
			<hr />
			<hr />
			<div class="panel-heading clearfix">
				<h4 class="text-uppercase fadeInLeft animated">Change password</h4>
				<h:form styleClass="form-horizontal" prependId="false">
					<!-- ======================= -->
					<div class="form-group">
						<label for="input-password" class="col-sm-2 control-label">Old
							Password</label>
						<div class="col-sm-10">
							<h:inputSecret value="#{profileClient.pass}"
								pt:placeholder="old password" id="oldPass" required="true"
								requiredMessage="Invalid password" styleClass="form-control"
								maxlength="32"
								validatorMessage="Password invalid, the shortest is 6 characters.">
								<f:validateLength maximum="32" minimum="6"></f:validateLength>
							</h:inputSecret>
							<h:message for="oldPass" />
						</div>
					</div>
					<!-- ======================= -->
					<div class="form-group">
						<label for="input-password" class="col-sm-2 control-label">New
							password</label>
						<div class="col-sm-10">
							<h:inputSecret value="#{profileClient.npass}"
								pt:placeholder="new password" id="newPass" required="true"
								requiredMessage="Invalid password" styleClass="form-control"
								maxlength="32"
								validatorMessage="Password invalid, the shortest is 6 characters.">
								<f:validateLength maximum="32" minimum="6"></f:validateLength>
							</h:inputSecret>
							<h:message for="newPass" />
						</div>
					</div>
					<!-- ======================= -->
					<div class="form-group">
						<label for="input-password" class="col-sm-2 control-label">Confirm
							new</label>
						<div class="col-sm-10">
							<h:inputSecret value="#{profileClient.rpass}"
								pt:placeholder="confirm new password" id="rePass"
								required="true" requiredMessage="Invalid password"
								styleClass="form-control" maxlength="32"
								validatorMessage="Password invalid, the shortest is 6 characters.">
								<f:validateLength maximum="32" minimum="6"></f:validateLength>
							</h:inputSecret>
							<h:message for="rePass" />
						</div>
					</div>
					<!-- ======================= -->
					<!-- ====================== -->
					<div class="form-group">
						<label for="input-placeholder" class="col-sm-2 control-label"></label>
						<div class="col-sm-10">
							<h:commandButton
								action="#{profileClient.saveChangePass()}"
								value="Change password" styleClass="btn btn-info">
								<f:ajax execute="@form" render="@form"></f:ajax>
							</h:commandButton>
							<br /> <br />
							<div class="alert alert-success"
								style="width: 350px; display: #{profileClient.passSuc}">
								<b>Change password successfully</b>
							</div>
							<div class="alert alert-danger"
								style="width: 350px; display: #{profileClient.passErr}">
								<b>Change password faild</b>
							</div>
						</div>
					</div>
					<!-- ====================== -->

				</h:form>
			</div>
		</div>
		</section>
	</ui:define>
</ui:composition>
</html>